<?xml version="1.0" encoding="utf-8"?>
<addon addon_id="KL_PasswordTools" title="Password Tools" version_string="2.3.0" version_id="2030000" url="https://xenforo.com/community/resources/password-tools.4495/" install_callback_class="KL_PasswordTools_Installer" install_callback_method="install" uninstall_callback_class="" uninstall_callback_method="">
  <admin_navigation/>
  <admin_permissions/>
  <admin_style_properties/>
  <admin_templates>
    <template title="KL_PasswordStrengthMeter"><![CDATA[<xen:require css="KL_PasswordStrengthMeter.css" />

<div id="passwordStrengthPhrase">{xen:phrase KL_PasswordStrengthMeter_TooShort}</div>
<ul id="passwordStrengthMeter">
	<li id="difficultyEasy" class="difficultyBar"></li>
	<li id="difficultyMedium" class="difficultyBar"></li>
	<li id="difficultyHard" class="difficultyBar"></li>
	<li id="difficultyBrutal" class="difficultyBar"></li>
</ul>

<xen:if is="{$xenOptions.KL_PasswordCompare}">
	<div id="passwordReadyBox"></div>
</xen:if>

<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_str}">
	<p class="explain" id="passwordStrengthMinimum">
		{xen:phrase KL_PasswordStrengthMeter_MinimumRequiredStrength}:
		<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_str} == 1">
			<span class="weak">{xen:phrase KL_PasswordStrengthMeter_Easy}</span>
		<xen:elseif  is="{$xenOptions.KL_PasswordStrengthMeter_str} == 2" />
			<span class="medium">{xen:phrase KL_PasswordStrengthMeter_Medium}</span>
		<xen:elseif  is="{$xenOptions.KL_PasswordStrengthMeter_str} == 3" />
			<span class="hard">{xen:phrase KL_PasswordStrengthMeter_Hard}</span>
		<xen:else />
			<span class="brutal">{xen:phrase KL_PasswordStrengthMeter_Brutal}</span>
		</xen:if>
	</p>
</xen:if>
<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_force}">
	<p class="explain" id="passwordBlackList">
		{xen:phrase KL_PasswordStrengthMeter_NotContainOfTheFollowing}:
		<xen:foreach loop="$xenOptions.KL_PasswordStrengthMeter_blacklist" value="$listItem">
			<xen:if is="{$listItem}">
				{$listItem},
			</xen:if>
		</xen:foreach>
		{$xenOptions.boardTitle}
	</p>
</xen:if>
<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_min}">
	<p class="explain">{xen:phrase KL_PasswordStrengthMeter_Password_must_be_X_characters, 'length={$xenOptions.KL_PasswordStrengthMeter_min}'}</p>
</xen:if>]]></template>
    <template title="KL_PasswordStrengthMeter.css"><![CDATA[html.noJs #passwordStrengthPhrase,
html.noJs #passwordStrengthMeter,
html.noJs #passwordReadyBox,
html.noJs #passwordCompareBox,
html.noJs #passwordStrengthMinimum,
html.noJs #passwordBlackList {
	display: none
}

#passwordStrengthMinimum {
	margin-top: 5px;
}

#passwordStrengthMinimum span {
	font-weight: bold;
	font-size: 110%;
	font-style: italic;
}

#passwordStrengthMeter {
	{xen:property kl_pwd_str_mtr_container}
}

#passwordStrengthPhrase {
	{xen:property kl_pwd_str_mtr_phrase}
}

#passwordStrengthMeter .difficultyBar {
	{xen:property kl_pwd_str_mtr_segment}
}

#passwordStrengthMeter #difficultyEasy {
	{xen:property kl_pwd_str_mtr_segment_1}
}

#passwordStrengthMeter #difficultyMedium {
	{xen:property kl_pwd_str_mtr_segment_2}
}

#passwordStrengthMeter #difficultyHard {
	{xen:property kl_pwd_str_mtr_segment_3}
}

#passwordStrengthMeter #difficultyBrutal {
	{xen:property kl_pwd_str_mtr_segment_4}
}

#passwordStrengthMeter.easy #difficultyEasy {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_easy};
}

#passwordStrengthMeter.medium #difficultyEasy,
#passwordStrengthMeter.medium #difficultyMedium {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_medium};
}

#passwordStrengthMeter.hard #difficultyEasy,
#passwordStrengthMeter.hard #difficultyMedium,
#passwordStrengthMeter.hard #difficultyHard {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_hard};
}

#passwordStrengthMeter.brutal #difficultyEasy,
#passwordStrengthMeter.brutal #difficultyMedium,
#passwordStrengthMeter.brutal #difficultyHard,
#passwordStrengthMeter.brutal #difficultyBrutal {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_brutal};
}

#passwordStrengthMinimum .easy,
#passwordStrengthPhrase.easy {
	color: {xen:property kl_pwd_str_mtr_easy};
}

#passwordStrengthMinimum .medium,
#passwordStrengthPhrase.medium {
	color: {xen:property kl_pwd_str_mtr_medium};
}

#passwordStrengthMinimum .hard,
#passwordStrengthPhrase.hard {
	color: {xen:property kl_pwd_str_mtr_hard};
}

#passwordStrengthMinimum .brutal,
#passwordStrengthPhrase.brutal {
	color: {xen:property kl_pwd_str_mtr_brutal};
}

#passwordCompareBox,
#passwordReadyBox {
	{xen:property kl_pwd_str_mtr_checkbox}
}

#passwordCompareBox::before,
#passwordReadyBox::before {
	{xen:property kl_pwd_str_mtr_checkbox_before}
	color: {xen:property kl_pwd_str_mtr_easy};
	content: "\2716";
	transition: transform 200ms, color 200ms;
	will-change: transform, color;
	transform: rotate(90deg);
}

#passwordCompareBox.valid::before,
#passwordReadyBox.valid::before {
	color: {xen:property kl_pwd_str_mtr_brutal};
	content: "\2714";
	transform: rotate(0deg);
}]]></template>
    <template title="KL_PasswordStrengthMeter_blacklist"><![CDATA[<xen:controlunit label="{$preparedOption.title}">
<ul class="FieldChoices inlineFieldChoices">
	<xen:foreach loop="$preparedOption.option_value" key="$choice" value="$text">
		<xen:if is="{$text}">
			<li>
				<input type="text" name="{$fieldPrefix}[{$preparedOption.option_id}][]" value="{$text}" class="textCtrl" placeholder="{xen:phrase text}" size="25" />
			</li>
		</xen:if>
	</xen:foreach>
	<li>
		<input type="text" name="{$fieldPrefix}[{$preparedOption.option_id}][]" class="textCtrl" placeholder="{xen:phrase text}" size="25" />
	</li>
</ul>
<input type="button" value="{xen:phrase add_additional_choice}" class="button smallButton FieldAdder" data-source="ul.FieldChoices li" />

<p class="explain">{xen:raw $preparedOption.explain}</p>
{xen:raw $editLink}
</xen:controlunit>

<style>
	.inlineFieldChoices li {
		display: inline-block;
	}
</style>]]></template>
    <template title="KL_PasswordStrengthMeter_Setup"><![CDATA[<script type="text/javascript">
	/* zxcvbn options */
	var pwd_strings = [
		'{xen:phrase KL_PasswordStrengthMeter_TooEasy}',
		'{xen:phrase KL_PasswordStrengthMeter_Easy}',
		'{xen:phrase KL_PasswordStrengthMeter_Medium}',
		'{xen:phrase KL_PasswordStrengthMeter_Hard}',
		'{xen:phrase KL_PasswordStrengthMeter_Brutal}',
		'{xen:phrase KL_PasswordStrengthMeter_TooShort}',
		'{xen:phrase KL_PasswordStrengthMeter_Rejected}'
	];
	var pwd_errorstrings = [
		'{xen:phrase KL_PasswordStrengthMeter_error_TooShort}',
		'{xen:phrase KL_PasswordStrengthMeter_errorInvalidExpression}',
		'{xen:phrase KL_PasswordStrengthMeter_error_TooWeak}',
		'{xen:phrase please_correct_following_errors}'
	];
	var pwd_timestrings = [
		' {xen:phrase KL_PasswordTools_Instant}',
		' {xen:phrase KL_PasswordTools_Minutes}',
		' {xen:phrase KL_PasswordTools_Hours}',
		' {xen:phrase KL_PasswordTools_Days}',
		' {xen:phrase KL_PasswordTools_Months}',
		' {xen:phrase KL_PasswordTools_Years}',
		'{xen:phrase KL_PasswordTools_Centuries}'
	];
<xen:if is="{$xenOptions.enforcePasswordComplexityForAdmins}">
	var pwd_minlength = {$xenOptions.KL_PasswordStrengthMeter_min};
	var pwd_minstrength = {$xenOptions.KL_PasswordStrengthMeter_str};
<xen:else />
	var pwd_minlength = 0;
	var pwd_minstrength = 0;
</xen:if>
	var pwd_forcepwd = {$xenOptions.KL_PasswordStrengthMeter_force};
	var pwd_checklist = [
		 '{$xenOptions.boardTitle}',
		 'XenForo',
		 <xen:foreach loop="$xenOptions.KL_PasswordStrengthMeter_blacklist" value="$listItem">
		 <xen:if is="{$listItem}">
		 '{$listItem}',
		 </xen:if>
		 </xen:foreach>
	];
</script>]]></template>
    <template title="option_template_passwordtools_check_types"><![CDATA[<xen:checkboxunit label="{$preparedOption.title}:">
	<xen:option name="{$fieldPrefix}[{$preparedOption.option_id}][zxcvbn]" value="1" selected="{$preparedOption.option_value.zxcvbn}">
		<xen:label>{xen:phrase KL_passwordtools_zxcvbn}</xen:label>
	</xen:option>
	<xen:option name="{$fieldPrefix}[{$preparedOption.option_id}][pwned]" value="1" selected="{$preparedOption.option_value.pwned}">
		<xen:label>{xen:phrase KL_passwordtools_pwned}</xen:label>
	</xen:option>

	<xen:html>
		{xen:raw $editLink}
		<input type="hidden" name="{$listedFieldName}" value="{$preparedOption.option_id}" />
	</xen:html>
	
	<xen:explain>{xen:raw $preparedOption.explain}</xen:explain>
</xen:checkboxunit>]]></template>
  </admin_templates>
  <admin_template_modifications>
    <modification template="user_edit" modification_key="user_edit_password_meter" description="Apply Strengh Meter Bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(name="password")(.*?/>)#si]]></find>
      <replace><![CDATA[$1 data-password-check="1" $2
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<xen:include template="KL_PasswordStrengthMeter" />
</xen:if>]]></replace>
    </modification>
    <modification template="user_edit" modification_key="user_edit_password_tools_zxcvbn" description="Load zxcvbn &amp; password strength meter" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[/^/]]></find>
      <replace><![CDATA[$0
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<script src="{$javaScriptSource}/KL/PasswordTools/zxcvbn.js" async></script>
<xen:require js="js/KL/PasswordTools/PasswordStrengthMeter.js" />
<xen:include template="KL_PasswordStrengthMeter_Setup" />
</xen:if>]]></replace>
    </modification>
  </admin_template_modifications>
  <code_events/>
  <code_event_listeners>
    <listener event_id="load_class_datawriter" execute_order="10" callback_class="KL_PasswordTools_Listener" callback_method="load_class" active="1" hint="XenForo_DataWriter_User" description="XenForo_DataWriter_User"/>
  </code_event_listeners>
  <cron/>
  <email_templates/>
  <email_template_modifications/>
  <optiongroups>
    <group group_id="KL_PasswordStrengthMeter_Options" display_order="10000" debug_only="0"/>
    <option option_id="KL_PasswordCompare" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="1"/>
    </option>
    <option option_id="KL_PasswordStrengthMeter_blacklist" edit_format="template" data_type="array" can_backup="1">
      <default_value>a:0:{}</default_value>
      <edit_format_params>KL_PasswordStrengthMeter_blacklist</edit_format_params>
      <sub_options>*</sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="210"/>
    </option>
    <option option_id="KL_PasswordStrengthMeter_force" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="200"/>
    </option>
    <option option_id="KL_PasswordStrengthMeter_min" edit_format="spinbox" data_type="integer" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="100"/>
    </option>
    <option option_id="KL_PasswordStrengthMeter_str" edit_format="select" data_type="integer" can_backup="1">
      <default_value>0</default_value>
      <edit_format_params>0={xen:phrase KL_PasswordStrengthMeter_TooEasy}
1={xen:phrase KL_PasswordStrengthMeter_Easy}
2={xen:phrase KL_PasswordStrengthMeter_Medium}
3={xen:phrase KL_PasswordStrengthMeter_Hard}
4={xen:phrase KL_PasswordStrengthMeter_Brutal}</edit_format_params>
      <sub_options></sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="110"/>
    </option>
    <option option_id="enforcePasswordComplexityForAdmins" edit_format="onoff" data_type="boolean" can_backup="1">
      <default_value></default_value>
      <edit_format_params></edit_format_params>
      <sub_options></sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="10"/>
    </option>
    <option option_id="passwordToolsCheckTypes" edit_format="template" data_type="array" can_backup="1">
      <default_value>a:2:{s:6:"zxcvbn";i:1;s:5:"pwned";i:1;}</default_value>
      <edit_format_params>option_template_passwordtools_check_types</edit_format_params>
      <sub_options>*</sub_options>
      <relation group_id="KL_PasswordStrengthMeter_Options" display_order="15"/>
    </option>
  </optiongroups>
  <permissions>
    <permission_groups/>
    <permissions/>
    <interface_groups/>
  </permissions>
  <phrases>
    <phrase title="KL_PasswordStrengthMeter_Brutal" version_id="1" version_string="0.0.1"><![CDATA[Very Strong]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_Easy" version_id="1" version_string="0.0.1"><![CDATA[Weak]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_errorInvalidExpression" version_id="1" version_string="0.0.1"><![CDATA[Your password contains at least one invalid expression.]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_error_TooShort" version_id="1" version_string="0.0.1"><![CDATA[Your password is too short.]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_error_TooWeak" version_id="1" version_string="0.0.1"><![CDATA[Your password is too weak.]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_Hard" version_id="1" version_string="0.0.1"><![CDATA[Strong]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_Medium" version_id="1" version_string="0.0.1"><![CDATA[Medium]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_MinimumRequiredStrength" version_id="1" version_string="0.0.1"><![CDATA[Minimum required strength]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_NotContainOfTheFollowing" version_id="1" version_string="0.0.1"><![CDATA[Your password may not contain one of the following key phrases]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_Password_must_be_X_characters" version_id="9" version_string="2.0.0"><![CDATA[Password must be at least {length} characters long.]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_Rejected" version_id="1" version_string="0.0.1"><![CDATA[Rejected]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_TooEasy" version_id="1" version_string="0.0.1"><![CDATA[Very Weak]]></phrase>
    <phrase title="KL_PasswordStrengthMeter_TooShort" version_id="1" version_string="0.0.1"><![CDATA[Too Short]]></phrase>
    <phrase title="KL_passwordtools_pwned" version_id="2030000" version_string="2.3.0"><![CDATA[<a href="https://haveibeenpwned.com/Passwords">pwned password</a> password validation]]></phrase>
    <phrase title="KL_passwordtools_zxcvbn" version_id="2030000" version_string="2.3.0"><![CDATA[<a href="https://github.com/dropbox/zxcvbn">zxcvbn</a> password validation]]></phrase>
    <phrase title="option_enforcePasswordComplexityForAdmins" version_id="2010000" version_string="2.1.0"><![CDATA[Enforce password complexity for admins]]></phrase>
    <phrase title="option_enforcePasswordComplexityForAdmins_explain" version_id="2030000" version_string="2.3.0"><![CDATA[When an admin sets a user's password enforce the password complexity ruleset]]></phrase>
    <phrase title="option_group_KL_PasswordStrengthMeter_Options" version_id="2010000" version_string="2.1.0"><![CDATA[Password Tools]]></phrase>
    <phrase title="option_group_KL_PasswordStrengthMeter_Options_description" version_id="1" version_string="0.0.1"><![CDATA[Use these options to force your users to keep their passwords safer.]]></phrase>
    <phrase title="option_KL_PasswordCompare" version_id="2030000" version_string="2.3.0"><![CDATA[Compare Password & Confirm Password]]></phrase>
    <phrase title="option_KL_PasswordCompare_explain" version_id="5" version_string="1.0.0"><![CDATA[Shows an indicator for both password boxes to inform the user if they're valid.]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_blacklist" version_id="1" version_string="0.0.1"><![CDATA[Blacklist]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_blacklist_explain" version_id="1" version_string="0.0.1"><![CDATA[If force reject is enabled, this list will serve as blacklist and reject all passwords that contain at least one of the given values. If force reject is disabled, every item on this list will give a penalty on the overall password strength.]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_force" version_id="1" version_string="0.0.1"><![CDATA[Force Reject]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_force_explain" version_id="1" version_string="0.0.1"><![CDATA[Passwords containing anything from the blacklist and/or the board title will be rejected if this option is active.]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_min" version_id="1" version_string="0.0.1"><![CDATA[Minimum Length]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_min_explain" version_id="1" version_string="0.0.1"><![CDATA[The minimum required length for a users password. All passwords below this threshold will be rejected. Set to 0 to disable.]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_str" version_id="1" version_string="0.0.1"><![CDATA[Minimum Strength]]></phrase>
    <phrase title="option_KL_PasswordStrengthMeter_str_explain" version_id="1" version_string="0.0.1"><![CDATA[The threshold to which weaker passwords will be rejected. Set to Very Weak to disable.]]></phrase>
    <phrase title="option_passwordToolsCheckTypes" version_id="2030000" version_string="2.3.0"><![CDATA[Password Check types]]></phrase>
    <phrase title="option_passwordToolsCheckTypes_explain" version_id="2030000" version_string="2.3.0"><![CDATA[]]></phrase>
    <phrase title="style_property_group_kl_pwd_strength_meter_master" version_id="1" version_string="0.0.1"><![CDATA[[KL] Password Strength Meter]]></phrase>
    <phrase title="style_property_group_kl_pwd_strength_meter_master_desc" version_id="1" version_string="0.0.1"><![CDATA[Style properties for [KL] Password Strength Meter]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_brutal_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_brutal_master" version_id="1" version_string="0.0.1"><![CDATA[Strength - Brutal]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_checkbox_before_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_checkbox_before_master" version_id="1" version_string="0.0.1"><![CDATA[Control Boxes [Before]]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_checkbox_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_checkbox_master" version_id="1" version_string="0.0.1"><![CDATA[Control Boxes]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_container_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_container_master" version_id="1" version_string="0.0.1"><![CDATA[Container]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_easy_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_easy_master" version_id="1" version_string="0.0.1"><![CDATA[Strength - Easy]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_hard_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_hard_master" version_id="1" version_string="0.0.1"><![CDATA[Strength - Hard]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_medium_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_medium_master" version_id="1" version_string="0.0.1"><![CDATA[Strength - Medium]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_phrase_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_phrase_master" version_id="1" version_string="0.0.1"><![CDATA[Phrase]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_1_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_1_master" version_id="1" version_string="0.0.1"><![CDATA[First Segment]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_2_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_2_master" version_id="1" version_string="0.0.1"><![CDATA[Second Segment]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_3_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_3_master" version_id="1" version_string="0.0.1"><![CDATA[Third Segment]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_4_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_4_master" version_id="1" version_string="0.0.1"><![CDATA[Fourth Segment]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_active_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_active_master" version_id="1" version_string="0.0.1"><![CDATA[Segments [Active]]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_description_master" version_id="1" version_string="0.0.1"><![CDATA[]]></phrase>
    <phrase title="style_property_kl_pwd_str_mtr_segment_master" version_id="1" version_string="0.0.1"><![CDATA[Segments]]></phrase>
  </phrases>
  <route_prefixes/>
  <style_properties>
    <property property_name="kl_pwd_str_mtr_container" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Container" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="1" sub_group=""><![CDATA[{"height":"5px","margin-top":"-4px","padding-all":"0","width":"100%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Segments" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="10" sub_group=""><![CDATA[{"background-color":"@mutedTextColor","extra":"float: left;\ndisplay: block;\ntransition: background 200ms;\nwill-change: background;","height":"100%","margin-all":"0","padding-all":"0","width":"24%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment_1" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="First Segment" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="20" sub_group=""><![CDATA[{"border-bottom-left-radius":"4px","margin-right":"1.333%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment_2" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Second Segment" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="40" sub_group=""><![CDATA[{"margin-right":"1.333%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment_3" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Third Segment" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="50" sub_group=""><![CDATA[{"margin-right":"1.333%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment_4" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Fourth Segment" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="60" sub_group=""><![CDATA[{"border-bottom-right-radius":"4px"}]]></property>
    <property property_name="kl_pwd_str_mtr_easy" property_type="scalar" definition="1" group_name="kl_pwd_strength_meter" title="Strength - Easy" description="" css_components="" scalar_type="color" scalar_parameters="" display_order="10" sub_group="Strength Color"><![CDATA[rgb(170, 0, 51)]]></property>
    <property property_name="kl_pwd_str_mtr_medium" property_type="scalar" definition="1" group_name="kl_pwd_strength_meter" title="Strength - Medium" description="" css_components="" scalar_type="color" scalar_parameters="" display_order="20" sub_group="Strength Color"><![CDATA[rgb(255, 204, 51)]]></property>
    <property property_name="kl_pwd_str_mtr_hard" property_type="scalar" definition="1" group_name="kl_pwd_strength_meter" title="Strength - Hard" description="" css_components="" scalar_type="color" scalar_parameters="" display_order="30" sub_group="Strength Color"><![CDATA[rgb(102, 153, 204)]]></property>
    <property property_name="kl_pwd_str_mtr_brutal" property_type="scalar" definition="1" group_name="kl_pwd_strength_meter" title="Strength - Brutal" description="" css_components="" scalar_type="color" scalar_parameters="" display_order="50" sub_group="Strength Color"><![CDATA[rgb(0, 128, 0)]]></property>
    <property property_name="kl_pwd_str_mtr_phrase" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Phrase" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="100" sub_group=""><![CDATA[{"color":"@mutedTextColor","extra":"position: absolute;\ntop: 5px;\nright: 35px;\ntransition: color 200ms;\nwill-change: color;","font-weight":"bold"}]]></property>
    <property property_name="kl_pwd_str_mtr_checkbox" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Control Boxes" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="110" sub_group=""><![CDATA[{"extra":"top: 0;\nright: 0;\nposition: absolute;"}]]></property>
    <property property_name="kl_pwd_str_mtr_checkbox_before" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Control Boxes [Before]" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="111" sub_group=""><![CDATA[{"font-family":"FontAwesome","font-size":"140%"}]]></property>
    <property property_name="kl_pwd_str_mtr_segment_active" property_type="css" definition="1" group_name="kl_pwd_strength_meter" title="Segments [Active]" description="" css_components="text,background,border,layout,extra" scalar_type="" scalar_parameters="" display_order="11" sub_group=""><![CDATA[{"extra":"opacity: 1;"}]]></property>
    <group group_name="kl_pwd_strength_meter" display_order="10000">
      <title>[KL] Password Strength Meter</title>
      <description>Style properties for [KL] Password Strength Meter</description>
    </group>
  </style_properties>
  <templates>
    <template title="KL_PasswordStrengthMeter" version_id="9" version_string="2.0.0"><![CDATA[<xen:require css="KL_PasswordStrengthMeter.css" />

<div id="passwordStrengthPhrase">{xen:phrase KL_PasswordStrengthMeter_TooShort}</div>
<ul id="passwordStrengthMeter">
	<li id="difficultyEasy" class="difficultyBar"></li>
	<li id="difficultyMedium" class="difficultyBar"></li>
	<li id="difficultyHard" class="difficultyBar"></li>
	<li id="difficultyBrutal" class="difficultyBar"></li>
</ul>

<xen:if is="{$xenOptions.KL_PasswordCompare}">
	<div id="passwordReadyBox"></div>
</xen:if>

<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_str}">
	<p class="explain" id="passwordStrengthMinimum">
		{xen:phrase KL_PasswordStrengthMeter_MinimumRequiredStrength}:
		<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_str} == 1">
			<span class="weak">{xen:phrase KL_PasswordStrengthMeter_Easy}</span>
		<xen:elseif  is="{$xenOptions.KL_PasswordStrengthMeter_str} == 2" />
			<span class="medium">{xen:phrase KL_PasswordStrengthMeter_Medium}</span>
		<xen:elseif  is="{$xenOptions.KL_PasswordStrengthMeter_str} == 3" />
			<span class="hard">{xen:phrase KL_PasswordStrengthMeter_Hard}</span>
		<xen:else />
			<span class="brutal">{xen:phrase KL_PasswordStrengthMeter_Brutal}</span>
		</xen:if>
	</p>
</xen:if>
<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_force}">
	<p class="explain" id="passwordBlackList">
		{xen:phrase KL_PasswordStrengthMeter_NotContainOfTheFollowing}:
		<xen:foreach loop="$xenOptions.KL_PasswordStrengthMeter_blacklist" value="$listItem">
			<xen:if is="{$listItem}">
				{$listItem},
			</xen:if>
		</xen:foreach>
		{$xenOptions.boardTitle}
	</p>
</xen:if>
<xen:if is="{$xenOptions.KL_PasswordStrengthMeter_min}">
	<p class="explain">{xen:phrase KL_PasswordStrengthMeter_Password_must_be_X_characters, 'length={$xenOptions.KL_PasswordStrengthMeter_min}'}</p>
</xen:if>]]></template>
    <template title="KL_PasswordStrengthMeter.css" version_id="2010000" version_string="2.1.0"><![CDATA[html.noJs #passwordStrengthPhrase,
html.noJs #passwordStrengthMeter,
html.noJs #passwordReadyBox,
html.noJs #passwordCompareBox,
html.noJs #passwordStrengthMinimum,
html.noJs #passwordBlackList {
	display: none
}

#passwordStrengthMinimum {
	margin-top: 5px;
}

#passwordStrengthMinimum span {
	font-weight: bold;
	font-size: 110%;
	font-style: italic;
}

#passwordStrengthMeter {
	{xen:property kl_pwd_str_mtr_container}
}

#passwordStrengthPhrase {
	{xen:property kl_pwd_str_mtr_phrase}
}

#passwordStrengthMeter .difficultyBar {
	{xen:property kl_pwd_str_mtr_segment}
}

#passwordStrengthMeter #difficultyEasy {
	{xen:property kl_pwd_str_mtr_segment_1}
}

#passwordStrengthMeter #difficultyMedium {
	{xen:property kl_pwd_str_mtr_segment_2}
}

#passwordStrengthMeter #difficultyHard {
	{xen:property kl_pwd_str_mtr_segment_3}
}

#passwordStrengthMeter #difficultyBrutal {
	{xen:property kl_pwd_str_mtr_segment_4}
}

#passwordStrengthMeter.easy #difficultyEasy {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_easy};
}

#passwordStrengthMeter.medium #difficultyEasy,
#passwordStrengthMeter.medium #difficultyMedium {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_medium};
}

#passwordStrengthMeter.hard #difficultyEasy,
#passwordStrengthMeter.hard #difficultyMedium,
#passwordStrengthMeter.hard #difficultyHard {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_hard};
}

#passwordStrengthMeter.brutal #difficultyEasy,
#passwordStrengthMeter.brutal #difficultyMedium,
#passwordStrengthMeter.brutal #difficultyHard,
#passwordStrengthMeter.brutal #difficultyBrutal {
	{xen:property kl_pwd_str_mtr_segment_active}
	background-color: {xen:property kl_pwd_str_mtr_brutal};
}

#passwordStrengthMinimum .easy,
#passwordStrengthPhrase.easy {
	color: {xen:property kl_pwd_str_mtr_easy};
}

#passwordStrengthMinimum .medium,
#passwordStrengthPhrase.medium {
	color: {xen:property kl_pwd_str_mtr_medium};
}

#passwordStrengthMinimum .hard,
#passwordStrengthPhrase.hard {
	color: {xen:property kl_pwd_str_mtr_hard};
}

#passwordStrengthMinimum .brutal,
#passwordStrengthPhrase.brutal {
	color: {xen:property kl_pwd_str_mtr_brutal};
}

#passwordCompareBox,
#passwordReadyBox {
	{xen:property kl_pwd_str_mtr_checkbox}
}

#passwordCompareBox::before,
#passwordReadyBox::before {
	{xen:property kl_pwd_str_mtr_checkbox_before}
	color: {xen:property kl_pwd_str_mtr_easy};
	content: "\2716";
	transition: transform 200ms, color 200ms;
	will-change: transform, color;
	transform: rotate(90deg);
}

#passwordCompareBox.valid::before,
#passwordReadyBox.valid::before {
	color: {xen:property kl_pwd_str_mtr_brutal};
	content: "\2714";
	transform: rotate(0deg);
}]]></template>
    <template title="KL_PasswordStrengthMeter_Setup" version_id="10" version_string="2.0.0"><![CDATA[<script type="text/javascript">
	/* zxcvbn options */
	var pwd_strings = [
		'{xen:phrase KL_PasswordStrengthMeter_TooEasy}',
		'{xen:phrase KL_PasswordStrengthMeter_Easy}',
		'{xen:phrase KL_PasswordStrengthMeter_Medium}',
		'{xen:phrase KL_PasswordStrengthMeter_Hard}',
		'{xen:phrase KL_PasswordStrengthMeter_Brutal}',
		'{xen:phrase KL_PasswordStrengthMeter_TooShort}',
		'{xen:phrase KL_PasswordStrengthMeter_Rejected}'
	];
	var pwd_errorstrings = [
		'{xen:phrase KL_PasswordStrengthMeter_error_TooShort}',
		'{xen:phrase KL_PasswordStrengthMeter_errorInvalidExpression}',
		'{xen:phrase KL_PasswordStrengthMeter_error_TooWeak}',
		'{xen:phrase please_correct_following_errors}'
	];
	var pwd_timestrings = [
		' {xen:phrase KL_PasswordTools_Instant}',
		' {xen:phrase KL_PasswordTools_Minutes}',
		' {xen:phrase KL_PasswordTools_Hours}',
		' {xen:phrase KL_PasswordTools_Days}',
		' {xen:phrase KL_PasswordTools_Months}',
		' {xen:phrase KL_PasswordTools_Years}',
		'{xen:phrase KL_PasswordTools_Centuries}'
	];
	var pwd_minlength = {$xenOptions.KL_PasswordStrengthMeter_min};
	var pwd_minstrength = {$xenOptions.KL_PasswordStrengthMeter_str};
	var pwd_forcepwd = {$xenOptions.KL_PasswordStrengthMeter_force};
	var pwd_checklist = [
		 '{$xenOptions.boardTitle}',
		 'XenForo',
		 <xen:foreach loop="$xenOptions.KL_PasswordStrengthMeter_blacklist" value="$listItem">
		 <xen:if is="{$listItem}">
		 '{$listItem}',
		 </xen:if>
		 </xen:foreach>
	];
</script>]]></template>
  </templates>
  <public_template_modifications>
    <modification template="account_security" modification_key="kl_pwd_sm_account_security" description="Load zxcvbn &amp; password strength meter" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[/^/]]></find>
      <replace><![CDATA[$0
<xen:require js="js/KL/PasswordTools/PasswordStrengthMeter.js" />
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<script src="{$javaScriptSource}/KL/PasswordTools/zxcvbn.js" async></script>
<xen:include template="KL_PasswordStrengthMeter_Setup" />
</xen:if>]]></replace>
    </modification>
    <modification template="account_security" modification_key="kl_pwd_sm_account_security_compare" description="Compare Checkbox" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(name="password_confirm")(.*?/>)#]]></find>
      <replace><![CDATA[$1 {xen:if '{$xenOptions.KL_PasswordCompare}', 'data-password-compare="1"'} $2
<xen:if is="{$xenOptions.KL_PasswordCompare}">
	<div id="passwordCompareBox"></div>
</xen:if>]]></replace>
    </modification>
    <modification template="account_security" modification_key="kl_pwd_sm_account_security_meter" description="Apply Strengh Meter Bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(id="ctrl_password")(.*?/>)#si]]></find>
      <replace><![CDATA[$1 data-password-check="1" $2
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<xen:include template="KL_PasswordStrengthMeter" />
</xen:if>]]></replace>
    </modification>
    <modification template="register_form" modification_key="kl_pwd_sm_register_form" description="Load zxcvbn &amp; password strength meter" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[/^/]]></find>
      <replace><![CDATA[$0
<xen:require js="js/KL/PasswordTools/PasswordStrengthMeter.js" />
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<script src="{$javaScriptSource}/KL/PasswordTools/zxcvbn.js" async></script>
<xen:include template="KL_PasswordStrengthMeter_Setup" />
</xen:if>]]></replace>
    </modification>
    <modification template="register_form" modification_key="kl_pwd_sm_register_form_compare" description="Compare Checkbox" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(fieldMap.password_confirm}")(.*?/>)#]]></find>
      <replace><![CDATA[$1 {xen:if '{$xenOptions.KL_PasswordCompare}', 'data-password-compare="1"'} $2
<xen:if is="{$xenOptions.KL_PasswordCompare}">
	<div id="passwordCompareBox"></div>
</xen:if>]]></replace>
    </modification>
    <modification template="register_form" modification_key="kl_pwd_sm_register_form_meter" description="Apply Strengh Meter Bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(fieldMap.password}")(.*?/>)#]]></find>
      <replace><![CDATA[$1 data-password-check="1" $2
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<xen:include template="KL_PasswordStrengthMeter" />
</xen:if>]]></replace>
    </modification>
    <modification template="lost_password_confirm" modification_key="lost_password_confirm" description="Compare Checkbox" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(name="password_confirm")(.*?/>)#]]></find>
      <replace><![CDATA[$1 {xen:if '{$xenOptions.KL_PasswordCompare}', 'data-password-compare="1"'} $2
<xen:if is="{$xenOptions.KL_PasswordCompare}">
	<div id="passwordCompareBox"></div>
</xen:if>]]></replace>
    </modification>
    <modification template="lost_password_confirm" modification_key="lost_password_confirm_security_meter" description="Apply Strengh Meter Bar" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[#(id="ctrl_password")(.*?/>)#si]]></find>
      <replace><![CDATA[$1 data-password-check="1" $2
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<xen:include template="KL_PasswordStrengthMeter" />
</xen:if>]]></replace>
    </modification>
    <modification template="lost_password_confirm" modification_key="lost_password_confirm_zxcvbn" description="Load zxcvbn &amp; password strength meter" execution_order="10" enabled="1" action="preg_replace">
      <find><![CDATA[/^/]]></find>
      <replace><![CDATA[$0
<xen:require js="js/KL/PasswordTools/PasswordStrengthMeter.js" />
<xen:if is="{$xenOptions.passwordToolsCheckTypes.zxcvbn}">
<script src="{$javaScriptSource}/KL/PasswordTools/zxcvbn.js" async></script>
<xen:include template="KL_PasswordStrengthMeter_Setup" />
</xen:if>]]></replace>
    </modification>
  </public_template_modifications>
  <bb_code_media_sites/>
  <bb_codes/>
</addon>
